<Window 
    x:Class="ContosoPizza.Views.WindowMain"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:local="clr-namespace:ContosoPizza.Views"
    xmlns:Models="clr-namespace:ContosoPizza.Models"
    xmlns:ViewModels="clr-namespace:ContosoPizza.ViewModels"
    mc:Ignorable="d"
    FontSize="16"
    Title="Contos Pizza Manager"
    Height="450" Width="800">

    <Window.Resources>
        <Style x:Key="TextBoxStyle" TargetType="TextBox">
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="Margin" Value="10 0" />
            <Setter Property="Padding" Value="5" />
        </Style>
    </Window.Resources>


    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="10*"/>
            <RowDefinition Height="3*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="10*"/>
            <ColumnDefinition Width="10*"/>
        </Grid.ColumnDefinitions>


        <DataGrid
            AutoGenerateColumns="False"
            CanUserAddRows="False"
            Background="White"
            d:ItemsSource="{d:SampleData ItemCount=5}"
            ItemsSource="{Binding ItemsSourcePizza}"
            Grid.RowSpan="1" Grid.ColumnSpan="1"
            Grid.Row="0" Grid.Column="0">
            <DataGrid.Columns>
                <DataGridTextColumn 
                    Binding="{Binding Id}" 
                    Header="Id" 
                    Width="2*"
                    IsReadOnly="True"/>
                <DataGridTextColumn 
                    Binding="{Binding Name}" 
                    Header="Name" 
                    Width="5*"
                    IsReadOnly="True"/>
            </DataGrid.Columns>
            <i:Interaction.Triggers>
                <i:EventTrigger EventName="SelectionChanged">
                    <i:InvokeCommandAction
                        Command="{Binding SelectionChangedCommand}" 
                        CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=DataGrid}, Path=SelectedItem}"
                        PassEventArgsToCommand="True" />
                </i:EventTrigger>
            </i:Interaction.Triggers>
        </DataGrid>

        <Grid
            Grid.RowSpan="1" Grid.ColumnSpan="1"
            Grid.Row="0" Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="3*"/>
                <RowDefinition Height="3*"/>
                <RowDefinition Height="3*"/>
                <RowDefinition Height="3*"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="10*"/>
            </Grid.ColumnDefinitions>

            <Label
                Margin="10 0"
                d:Content="Pizza Name"
                Content="{Binding PizzaName}"
                VerticalAlignment="Center"
                Grid.ColumnSpan="1"
                Grid.Row="0" Grid.Column="1" />

            <Label
                Margin="10 0"
                d:Content="Sauce"
                Content="{Binding PizzaSauce}"
                VerticalAlignment="Center"
                Grid.ColumnSpan="1"
                Grid.Row="1" Grid.Column="1" />

            <Label
                Margin="10 0"
                d:Content="Toppings"
                Content="{Binding PizzaToppings}"
                VerticalAlignment="Center"
                Grid.ColumnSpan="1"
                Grid.Row="2" Grid.Column="1" />
        </Grid>

        <Grid
            Grid.RowSpan="1" Grid.ColumnSpan="2"
            Grid.Row="1" Grid.Column="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Button 
                Margin="10 5" Padding="10"
                Content="New Pizza" 
                CommandParameter="{Binding}"
                Command="{Binding BtnShowWindowSubClickCommand}"
                Grid.Row="0" Grid.Column="0" />
        </Grid>
    </Grid>
</Window>
